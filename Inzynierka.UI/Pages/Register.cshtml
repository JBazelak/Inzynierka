@page
@model RegisterModel
@{
    ViewData["Title"] = "Register";
}

<h2>Register</h2>

@if (!Model.IsSecondStep)
{
    <!-- Krok pierwszy -->
    <form method="post">
        <div class="form-group">
            <label for="Email">Email</label>
            <input type="email" id="Email" name="Email" asp-for="registerData.Email" class="form-control" required />
            <span asp-validation-for="registerData.Email" class="text-danger"></span>
        </div>
        <div class="form-group">
            <label for="Password">Password</label>
            <input type="password" id="Password" name="Password" asp-for="registerData.Password" class="form-control" required />
            <span asp-validation-for="registerData.Password" class="text-danger"></span>
        </div>
        <div class="form-group">
            <label for="passwordRepeat">Repeat Password</label>
            <input type="password" id="passwordRepeat" name="passwordRepeat" class="form-control" required />
        </div>
        <div class="form-group">
            <label for="FirstName">First Name</label>
            <input type="text" id="FirstName" name="FirstName" asp-for="registerData.FirstName" class="form-control" required />
            <span asp-validation-for="registerData.FirstName" class="text-danger"></span>
        </div>
        <div class="form-group">
            <label for="LastName">Last Name</label>
            <input type="text" id="LastName" name="LastName" asp-for="registerData.LastName" class="form-control" required />
            <span asp-validation-for="registerData.LastName" class="text-danger"></span>
        </div>
        
        <button type="submit" name="step" value="1" class="btn btn-primary mt-2">Next</button>
    </form>
}
else
{
    <!-- Krok drugi -->
    <form method="post">
        <div class="form-group">
            <label for="CompanyName">Company Name</label>
            <input type="text" id="CompanyName" name="CompanyName" asp-for="registerData.CompanyName" class="form-control" required />
            <span asp-validation-for="registerData.CompanyName" class="text-danger"></span>
        </div>
        <div class="form-group">
            <label for="Address">Address</label>
            <input type="text" id="Address" name="Address" asp-for="registerData.Address" class="form-control" />
        </div>
        <div class="form-group">
            <label for="PhoneNumber">Phone Number</label>
            <input type="text" id="PhoneNumber" name="PhoneNumber" asp-for="registerData.PhoneNumber" class="form-control" />
        </div>
        <div class="form-group">
            <label for="TaxIdNumber">Tax ID Number</label>
            <input type="text" id="TaxIdNumber" name="TaxIdNumber" asp-for="registerData.TaxIdNumber" class="form-control" />
        </div>
        <div class="form-group">
            <label for="NationalBusinessRegistryNumber">National Business Registry Number</label>
            <input type="text" id="NationalBusinessRegistryNumber" name="NationalBusinessRegistryNumber" asp-for="registerData.NationalBusinessRegistryNumber" class="form-control" />
        </div>
        <button type="submit" class="btn btn-success mt-2">Register</button>
    </form>
}
@if (Model.errorMessage != string.Empty)
{
    <div class="alert alert-danger mt-2">@Model.errorMessage</div>
}

@if (Model.successMessage != string.Empty)
{
    <div class="alert alert-success mt-2">@Model.successMessage</div>
}
